parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"A2T1":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,o){n(t,e),e.set(t,o)}function n(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(t,e){return r(t,a(t,e,"get"))}function r(t,e){return e.get?e.get.call(t):e.value}function i(t,e,n){return s(t,a(t,e,"set"),n),n}function a(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function s(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=d();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function y(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=function(){function t(e,n,o){v(this,t),w(this,"date",new Date),w(this,"id",(Date.now()+"").slice(-10)),w(this,"clicks",0),this.coords=e,this.distance=n,this.duration=o}return y(t,[{key:"_setDescription",value:function(){this.description="".concat(this.type[0].toUpperCase()).concat(this.type.slice(1)," on ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][this.date.getMonth()]," ").concat(this.date.getDate())}},{key:"click",value:function(){this.clicks++}}]),t}(),m=function(t){c(n,k);var e=l(n);function n(t,o,r,i){var a;return v(this,n),w(f(a=e.call(this,t,o,r)),"type","running"),a.cadence=i,a.calcPace(),a._setDescription(),a}return y(n,[{key:"calcPace",value:function(){return this.pace=this.duration/this.distance,this.pace}}]),n}(),g=function(t){c(n,k);var e=l(n);function n(t,o,r,i){var a;return v(this,n),w(f(a=e.call(this,t,o,r)),"type","cycling"),a.elevationGain=i,a.calcSpeed(),a._setDescription(),a}return y(n,[{key:"calcSpeed",value:function(){return this.speed=this.distance/(this.duration/60),this.speed}}]),n}(),b=document.querySelector(".form"),S=document.querySelector(".workouts"),O=document.querySelector(".form__input--type"),P=document.querySelector(".form__input--distance"),E=document.querySelector(".form__input--duration"),M=document.querySelector(".form__input--cadence"),W=document.querySelector(".form__input--elevation"),T=new WeakMap,j=new WeakMap,F=new WeakMap,D=new WeakMap,C=function(){function t(){v(this,t),e(this,T,{writable:!0,value:void 0}),e(this,j,{writable:!0,value:13}),e(this,F,{writable:!0,value:void 0}),e(this,D,{writable:!0,value:[]}),this._getPosition(),this._getLocalStorage(),b.addEventListener("submit",this._newWorkout.bind(this)),O.addEventListener("change",this._toggleElevationField),S.addEventListener("click",this._moveToPopup.bind(this))}return y(t,[{key:"_getPosition",value:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this._loadMap.bind(this),function(){alert("Could not get your position")})}},{key:"_loadMap",value:function(t){var e=this,n=[t.coords.latitude,t.coords.longitude];i(this,T,L.map("map").setView(n,o(this,j))),L.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(o(this,T)),o(this,T).on("click",this._showForm.bind(this)),o(this,D).forEach(function(t){e._renderWorkoutMarker(t)})}},{key:"_showForm",value:function(t){i(this,F,t),b.classList.remove("hidden"),P.focus()}},{key:"_hideForm",value:function(){P.value=E.value=M.value=W.value="",b.style.display="none",b.classList.add("hidden"),setTimeout(function(){return b.style.display="grid"},1e3)}},{key:"_toggleElevationField",value:function(){W.closest(".form__row").classList.toggle("form__row--hidden"),M.closest(".form__row").classList.toggle("form__row--hidden")}},{key:"_newWorkout",value:function(t){var e=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.every(function(t){return Number.isFinite(t)})},n=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.every(function(t){return t>0})};t.preventDefault();var r,i=O.value,a=+P.value,s=+E.value,c=o(this,F).latlng,u=c.lat,l=c.lng;if("running"===i){var p=+M.value;if(!e(a,s,p)||!n(a,s,p))return alert("Inputs have to be positive numbers!");r=new m([u,l],a,s,p)}if("cycling"===i){var f=+W.value;if(!e(a,s,f)||!n(a,s))return alert("Inputs have to be positive numbers!");r=new g([u,l],a,s,f)}o(this,D).push(r),this._renderWorkoutMarker(r),this._renderWorkout(r),this._hideForm(),this._setLocalStorage()}},{key:"_renderWorkoutMarker",value:function(t){L.marker(t.coords).addTo(o(this,T)).bindPopup(L.popup({maxWidth:250,minWidth:100,autoClose:!1,closeOnClick:!1,className:"".concat(t.type,"-popup")})).setPopupContent("".concat("running"===t.type?"üèÉ‚Äç‚ôÇÔ∏è":"üö¥‚Äç‚ôÄÔ∏è"," ").concat(t.description)).openPopup()}},{key:"_renderWorkout",value:function(t){var e='\n      <li class="workout workout--'.concat(t.type,'" data-id="').concat(t.id,'">\n        <h2 class="workout__title">').concat(t.description,'</h2>\n        <div class="workout__details">\n          <span class="workout__icon">').concat("running"===t.type?"üèÉ‚Äç‚ôÇÔ∏è":"üö¥‚Äç‚ôÄÔ∏è",'</span>\n          <span class="workout__value">').concat(t.distance,'</span>\n          <span class="workout__unit">km</span>\n        </div>\n        <div class="workout__details">\n          <span class="workout__icon">‚è±</span>\n          <span class="workout__value">').concat(t.duration,'</span>\n          <span class="workout__unit">min</span>\n        </div>\n    ');"running"===t.type&&(e+='\n        <div class="workout__details">\n          <span class="workout__icon">‚ö°Ô∏è</span>\n          <span class="workout__value">'.concat(t.pace.toFixed(1),'</span>\n          <span class="workout__unit">min/km</span>\n        </div>\n        <div class="workout__details">\n          <span class="workout__icon">ü¶∂üèº</span>\n          <span class="workout__value">').concat(t.cadence,'</span>\n          <span class="workout__unit">spm</span>\n        </div>\n      </li>\n      ')),"cycling"===t.type&&(e+='\n        <div class="workout__details">\n          <span class="workout__icon">‚ö°Ô∏è</span>\n          <span class="workout__value">'.concat(t.speed.toFixed(1),'</span>\n          <span class="workout__unit">km/h</span>\n        </div>\n        <div class="workout__details">\n          <span class="workout__icon">‚õ∞</span>\n          <span class="workout__value">').concat(t.elevationGain,'</span>\n          <span class="workout__unit">m</span>\n        </div>\n      </li>\n      ')),b.insertAdjacentHTML("afterend",e)}},{key:"_moveToPopup",value:function(t){if(o(this,T)){var e=t.target.closest(".workout");if(e){var n=o(this,D).find(function(t){return t.id===e.dataset.id});o(this,T).setView(n.coords,o(this,j),{animate:!0,pan:{duration:1}})}}}},{key:"_setLocalStorage",value:function(){localStorage.setItem("workouts",JSON.stringify(o(this,D)))}},{key:"_getLocalStorage",value:function(){var t=this,e=JSON.parse(localStorage.getItem("workouts"));e&&(i(this,D,e),o(this,D).forEach(function(e){t._renderWorkout(e)}))}},{key:"reset",value:function(){localStorage.removeItem("workouts"),location.reload()}}]),t}(),q=new C;
},{}]},{},["A2T1"], null)
//# sourceMappingURL=/app.js.map